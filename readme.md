# Tablight

https://www.youtube.com/watch?v=nNJdvW4H8iI&ab_channel=%EA%B9%80%ED%98%95%EC%84%9D

https://www.youtube.com/watch?v=WpiP_oCfzc0&ab_channel=%EA%B9%80%ED%98%95%EC%84%9D

태블릿용 ambilight 거치대입니다.

ambilight는 필립스에서 개발한 디스플레이용 무드등이라 보시면 됩니다.

디스플레이 뒷쪽에 rgb led를 붙여 화면 가장자리의 색상을 적절하게 벽이나 바닥쪽으로 쏴줍니다.

백문이 불여일견이라, 한번 보시면 감이 딱 옵니다.

https://www.youtube.com/watch?v=PccI_pUTZXs&ab_channel=Pocket-lint

https://www.youtube.com/watch?v=revatKHflr0&ab_channel=DemoMissionMan

이것만 보고 TV를 새로사기엔 좀 아까우니 자작하는 사람도 그럭저럭 있었습니다.

https://www.youtube.com/watch?v=yFF8vqlZofE&ab_channel=%EC%98%A4%EB%82%A0%EB%8F%84%EC%9D%98%EC%8A%A4%EB%A7%88%ED%8A%B8%ED%99%88%EB%A7%8C%EB%93%A4%EA%B8%B0

태블릿 거치대도 이런게 있으면 어떨까? 안드로이드에서 직접 돌아가면 괜찮을거같은데? 싶어서 만들었습니다.

## 사용한 주요부품

### 아마존 HD10 

부품이라기엔 뭐하지만 이 태블릿 사이즈에 맞춰 만들었기에 넣었음.

### JKit 128-1

학교에서 지급받았던 부품입니다. 다른 atmega128 보드를 사용해도 상관없을듯. 혹시 이 코드를 보시는 분이라면 그냥 아두이노를 쓰시기 바랍니다.

### HC-06 블루투스 모듈

워낙에 많이들 쓰는 모듈이니 설명은 생략. 사용전 설정해야하는 이런저런 레지스터에 대한 설명은 구글링해서 찾아보기

### WS2812

led를 여러개 사용해야하는데, 우리가 쓸 수 있는 제어핀수는 그것보다 훨씬 적습니다.

ws2812는 led를 여러개 쓰더라도 핀 3개면 됩니다. (Din, Vin, Gnd. 사실상 제어에 쓰이는 핀은 1개.)

보통 led를 여러개 켜고 끈다고 하면 led마다 지정된 핀 몇번에 전압을 올리든 내리든 하면 켜고 꺼지는 걸 생각할텐데

이 모듈의 경우 줄줄히 연결된 모듈들에 데이터 스트림을 보내고 맨 앞의 모듈 부터 rgb값을 24비트씩 받아서 사용하는 방식입니다.(rgb각 8비트씩)

예를들어 모듈이 3개고 데이터가 72비트가 왔다 그러면 1번 모듈에서 24비트, 2번 모듈에서 그다음 24비트, 3번모듈에서 그다다음 24비트 이렇게 쓰는 방식으로요.

한번 설정한 색을 다른색으로 설정하고 싶다, 그러면 50µs동안 low voltage를 넣으면 이전에 설정한 색이 리셋되고 다른 색을 새로 설정할 수 있습니다.

말로 이렇게 줄줄히 설명하기보단 데이터 시트 한번 보는쪽이 이해가 빠릅니다. (그리고 polulu사에서 led 제어코드를 공개했기에 더 알것도, 따로 작성할 것도 많지 않습니다.)

주의해야할점. 타이밍에 예민합니다. 타이밍이 틀어지면 작동이 이상하게 됩니다. (앞의 몇 개만 켜지고 뒤에는 안켜진다던가, 이상한 색상이 되던가, 아예 안켜지던가).

1. JKit을 쓰든 아두이노를 쓰든 led 제어 도중 인터럽트 기능은 꺼둬야합니다.

2. WS2812와 WS2812B의 Data transfer time이 다르니 2812를 쓰는사람은 주의할것. 예산 있으면 그냥 2812b쓰기.

2812b는 거꾸로 연결했을때 led가 타지 않게 보호회로를 넣은 등의 기능이 추가된 버전입니다.
예산이 모자란 사람들은 가격이 싼 2812를 고를텐데, 어디서 2812B용 코드를 주워와서 엄한 삽질 하지 말도록 합시다.
사실 이 삽질은 내가 먼저 해봐서 적어봤음 -_-

### e/c 25v 1000uf 캐퍼시터

없어도 작동은 하나 안정적인 전력 공급을 위해 추가.

기타 부품은 회로도 참고.

